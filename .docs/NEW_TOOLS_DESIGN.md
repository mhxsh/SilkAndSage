# AI 增强型美学与心理工具扩展设计方案

## 1. 🎨 色彩搭配大师 (Color Harmony AI)

### 核心理念
不仅仅是色轮工具，而是基于"意境"和"五行能量"的 AI 色彩生成器。

### 功能特性
1.  **意境配色生成**: 用户输入关键词（如"雨后清晨"、"复古爵士"），AI 生成 5 色调色板。
2.  **五行能量补给**: 根据用户当天的运势或缺失元素（例如缺"火"），推荐穿搭或环境配色。
3.  **图片取色与分析**: 上传一张图片，AI 提取主色调并分析其情感倾向。

### AI 交互逻辑
*   **Input**: 关键词 / 用户五行属性 / 图片
*   **Prompt 示例**: "为一名五行属'木'的用户生成一组'职场自信'主题的配色方案，要求包含一种主色、一种辅助色和一种点缀色，并解释色彩心理学含义。"
*   **Output (JSON)**:
    ```json
    {
      "palette_name": "森林晨曦",
      "colors": ["#2D5A27", "#8FBC8F", "#F0E68C", ...],
      "description": "深绿色增强稳重感，浅绿带来生机，点缀鹅黄色增加亲和力...",
      "usage_advice": "适合周一会议穿着，建议深绿色为西装外套..."
    }
    ```

---

## 2. 👔 图形纹理协调师 (Pattern & Texture Harmony)

### 核心理念
解决"这件衣服配什么裤子"的终极难题。用专业的设计语言（如"视觉重量"、"纹理对比"）来指导搭配。

### 功能特性
1.  **纹理百科**: 介绍丝绸、亚麻、羊毛等材质的特性及五行属性（如丝绸属金/水）。
2.  **AI 搭配助手**:
    *   用户选择/上传一种纹理（如"粗花呢"）。
    *   AI 推荐 3 种协调的搭配方案（如"搭配丝绸产生软硬对比"）。
3.  **图案冲突美学**: 教用户如何混搭条纹、波点、印花而不显凌乱。

### AI 交互逻辑
*   **Input**: 基础纹理/图案（例如：苏格兰格纹）
*   **Prompt 示例**: "用户想穿一件'苏格兰格纹(Tartan)'的羊毛外套，请推荐三种不同风格的下装纹理搭配方案（保守、时尚、前卫），并解释视觉原理。"
*   **Output**:
    *   **方案A (经典)**: 搭配纯色灯芯绒 (Corduroy) - 增加温暖感，纹理和谐。
    *   **方案B (现代)**: 搭配光面皮革 (Leather) - 材质软硬对比，酷感十足。

---

## 3. 🧠 AI 每日心情疗愈 (Personalized Mood Test)

### 核心理念
抛弃死板的固定题库。根据用户的**性格画像（星座/MBTI/五行）**，动态生成最能击中用户当下状态的测试题。

### 流程设计
1.  **读取画像**: 系统读取用户档案（例如：天蝎座，水象，最近运势低迷）。
2.  **动态出题 (AI)**:
    *   AI 生成 3-5 个针对性问题。
    *   *针对天蝎座*: "今天是否感觉周围的人不够真诚？"
    *   *针对火象星座*: "是否感觉今天的行动力受阻，有一股无名火？"
3.  **用户回答**: 简单的滑动条或选项。
4.  **生成处方 (AI)**:
    *   **情绪分析**: "你今天感到受挫是因为..."
    *   **行动建议**: "去喝一杯冰美式，或者听这首白噪音..."
    *   **能量色彩**: 推荐今日疗愈色。

### AI 交互逻辑
*   **Input**: 用户档案 + 当前时间
*   **Output**: 动态题目列表 -> 用户回答 -> 最终建议卡片。

---

## 🛠️ 技术架构与实现路径

### 1. AI 服务层 (`/app/api/ai/*`)
我们需要接入大模型 API (如 OpenAI, Gemini, 或国内的 DeepSeek/Moonshot)。
*   `POST /api/ai/generate-palette`: 生成配色
*   `POST /api/ai/consult-texture`: 纹理咨询
*   `POST /api/ai/mood-test/generate`: 生成题目
*   `POST /api/ai/mood-test/analyze`: 分析结果

### 2. 数据库扩展 (`supabase`)
*   `user_mood_logs`: 记录每日心情、测试结果和 AI 建议。
*   `saved_palettes`: 保存用户喜欢的配色方案。

### 3. 前端组件
*   **ColorPicker**: 交互式色盘。
*   **ChatInterface**: 类似对话框的测试界面，提供沉浸式体验。
*   **TextureCard**: 展示不同材质的高清纹理图。

---

## 📅 实施路线图 (Roadmap)

### Phase 1: 基础框架搭建
*   配置 AI SDK (Vercel AI SDK)。
*   设置 API Key 环境变量。
*   创建新的数据库表。

### Phase 2: 色彩搭配学开发
*   实现 AI 配色 API。
*   前端展示色卡和 Hex 码复制功能。

### Phase 3: 心情测试开发
*   实现基于 User Profile 的 Prompt 工程。
*   开发动态问卷 UI。

### Phase 4: 纹理搭配开发
*   整理基础纹理知识库。
*   实现搭配推荐逻辑。

